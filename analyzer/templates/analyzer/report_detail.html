{% extends 'analyzer/base.html' %}

{% block content %}
<div class="row">
    <div class="col-md-8 mx-auto">
        <div class="card shadow-lg p-5">
            <h2 class="text-center mb-4">Resume Skill Gap Analysis</h2>

            <div class="text-center mb-5">
                <h3 class="display-4 fw-bold text-primary">{{ report.score|floatformat:1 }}%</h3>
                <p class="text-muted fs-5">Role Match: <span class="fw-bold">{{ report.role.title }}</span></p>
            </div>

            <div class="row">
                <div class="col-md-6 mb-4">
                    <h4 class="text-success h5 border-bottom pb-2"><i class="fas fa-check-circle me-2"></i>Matched
                        Skills</h4>
                    <ul class="list-group list-group-flush">
                        {% for skill in report.matched_skills %}
                        <li class="list-group-item list-group-item-action list-group-item-light text-success fw-medium">
                            <i class="fas fa-check small me-2"></i>{{ skill }}
                        </li>
                        {% empty %}
                        <li class="list-group-item text-muted fst-italic">No skills matched yet.</li>
                        {% endfor %}
                    </ul>
                </div>

                <div class="col-md-6 mb-4">
                    <h4 class="text-danger h5 border-bottom pb-2"><i class="fas fa-times-circle me-2"></i>Missing Skills
                    </h4>
                    <ul class="list-group list-group-flush">
                        {% for skill in report.missing_skills %}
                        <li class="list-group-item list-group-item-action list-group-item-light text-danger fw-medium">
                            <i class="fas fa-exclamation-triangle small me-2"></i>{{ skill }}
                        </li>
                        {% empty %}
                        <li class="list-group-item text-success fst-italic">No missing skills! Perfect match!</li>
                        {% endfor %}
                    </ul>
                </div>
            </div>

            <div class="mt-4 p-4 bg-light rounded border border-info">
                <h5 class="text-info"><i class="fas fa-lightbulb me-2"></i>Recommendation</h5>
                <p class="mb-0">{{ report.recommendations }}</p>
            </div>

            <div class="d-flex justify-content-center gap-3 mt-5">
                <a href="{% url 'home' %}" class="btn btn-outline-secondary">Back to Dashboard</a>
                <a href="{% url 'upload_resume' %}" class="btn btn-primary px-4">Analyze Another Resume</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}